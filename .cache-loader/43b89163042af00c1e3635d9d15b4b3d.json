{"remainingRequest":"/Users/jeffrey/HaulTesting/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/jeffrey/HaulTesting/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Lists/VirtualizedSectionList.js","dependencies":[{"path":"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Lists/VirtualizedSectionList.js","mtime":1539700108130},{"path":"/Users/jeffrey/HaulTesting/node_modules/cache-loader/dist/cjs.js","mtime":1539652983212},{"path":"/Users/jeffrey/HaulTesting/node_modules/thread-loader/dist/cjs.js","mtime":1539652983315},{"path":"/Users/jeffrey/HaulTesting/node_modules/babel-loader/lib/index.js","mtime":1539615827828}],"contextDependencies":[],"result":["'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectSpread2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf3=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _jsxFileName=\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Lists/VirtualizedSectionList.js\";(function(){var enterModule=require('react-hot-loader').enterModule;enterModule&&enterModule(module);})();var React=require('React');var View=require('View');var VirtualizedList=require('VirtualizedList');var invariant=require('fbjs/lib/invariant');var VirtualizedSectionList=function(_React$PureComponent){(0,_inherits2.default)(VirtualizedSectionList,_React$PureComponent);(0,_createClass2.default)(VirtualizedSectionList,[{key:\"scrollToLocation\",value:function scrollToLocation(params){var index=params.itemIndex+1;for(var ii=0;ii<params.sectionIndex;ii++){index+=this.props.sections[ii].data.length+2;}var toIndexParams=(0,_objectSpread2.default)({},params,{index:index});this._listRef.scrollToIndex(toIndexParams);}},{key:\"getListRef\",value:function getListRef(){return this._listRef;}}]);function VirtualizedSectionList(props,context){var _this;(0,_classCallCheck2.default)(this,VirtualizedSectionList);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf3.default)(VirtualizedSectionList).call(this,props,context));_this._keyExtractor=function(item,index){var info=_this._subExtractor(index);return info&&info.key||String(index);};_this._convertViewable=function(viewable){invariant(viewable.index!=null,'Received a broken ViewToken');var info=_this._subExtractor(viewable.index);if(!info){return null;}var keyExtractor=info.section.keyExtractor||_this.props.keyExtractor;return(0,_objectSpread2.default)({},viewable,{index:info.index,key:keyExtractor(viewable.item,info.index),section:info.section});};_this._onViewableItemsChanged=function(_ref){var viewableItems=_ref.viewableItems,changed=_ref.changed;if(_this.props.onViewableItemsChanged){_this.props.onViewableItemsChanged({viewableItems:viewableItems.map(_this._convertViewable,(0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this))).filter(Boolean),changed:changed.map(_this._convertViewable,(0,_assertThisInitialized2.default)((0,_assertThisInitialized2.default)(_this))).filter(Boolean)});}};_this._renderItem=function(_ref2){var item=_ref2.item,index=_ref2.index;var info=_this._subExtractor(index);if(!info){return null;}var infoIndex=info.index;if(infoIndex==null){var section=info.section;if(info.header===true){var renderSectionHeader=_this.props.renderSectionHeader;return renderSectionHeader?renderSectionHeader({section:section}):null;}else{var renderSectionFooter=_this.props.renderSectionFooter;return renderSectionFooter?renderSectionFooter({section:section}):null;}}else{var renderItem=info.section.renderItem||_this.props.renderItem;var SeparatorComponent=_this._getSeparatorComponent(index,info);invariant(renderItem,'no renderItem!');return React.createElement(ItemWithSeparator,{SeparatorComponent:SeparatorComponent,LeadingSeparatorComponent:infoIndex===0?_this.props.SectionSeparatorComponent:undefined,cellKey:info.key,index:infoIndex,item:item,leadingItem:info.leadingItem,leadingSection:info.leadingSection,onUpdateSeparator:_this._onUpdateSeparator,prevCellKey:(_this._subExtractor(index-1)||{}).key,ref:function ref(_ref3){_this._cellRefs[info.key]=_ref3;},renderItem:renderItem,section:info.section,trailingItem:info.trailingItem,trailingSection:info.trailingSection,__source:{fileName:_jsxFileName,lineNumber:316}});}};_this._onUpdateSeparator=function(key,newProps){var ref=_this._cellRefs[key];ref&&ref.updateSeparatorProps(newProps);};_this._cellRefs={};_this._captureRef=function(ref){_this._listRef=ref;};_this.state=_this._computeState(props);return _this;}(0,_createClass2.default)(VirtualizedSectionList,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){this.setState(this._computeState(nextProps));}},{key:\"_computeState\",value:function _computeState(props){var offset=props.ListHeaderComponent?1:0;var stickyHeaderIndices=[];var itemCount=props.sections.reduce(function(v,section){stickyHeaderIndices.push(v+offset);return v+section.data.length+2;},0);return{childProps:(0,_objectSpread2.default)({},props,{renderItem:this._renderItem,ItemSeparatorComponent:undefined,data:props.sections,getItemCount:function getItemCount(){return itemCount;},getItem:getItem,keyExtractor:this._keyExtractor,onViewableItemsChanged:props.onViewableItemsChanged?this._onViewableItemsChanged:undefined,stickyHeaderIndices:props.stickySectionHeadersEnabled?stickyHeaderIndices:undefined})};}},{key:\"render\",value:function render(){return React.createElement(VirtualizedList,(0,_extends2.default)({},this.state.childProps,{ref:this._captureRef,__source:{fileName:_jsxFileName,lineNumber:201}}));}},{key:\"_subExtractor\",value:function _subExtractor(index){var itemIndex=index;var defaultKeyExtractor=this.props.keyExtractor;for(var ii=0;ii<this.props.sections.length;ii++){var section=this.props.sections[ii];var key=section.key||String(ii);itemIndex-=1;if(itemIndex>=section.data.length+1){itemIndex-=section.data.length+1;}else if(itemIndex===-1){return{section:section,key:key+':header',index:null,header:true,trailingSection:this.props.sections[ii+1]};}else if(itemIndex===section.data.length){return{section:section,key:key+':footer',index:null,header:false,trailingSection:this.props.sections[ii+1]};}else{var keyExtractor=section.keyExtractor||defaultKeyExtractor;return{section:section,key:key+':'+keyExtractor(section.data[itemIndex],itemIndex),index:itemIndex,leadingItem:section.data[itemIndex-1],leadingSection:this.props.sections[ii-1],trailingItem:section.data[itemIndex+1],trailingSection:this.props.sections[ii+1]};}}}},{key:\"_getSeparatorComponent\",value:function _getSeparatorComponent(index,info){info=info||this._subExtractor(index);if(!info){return null;}var ItemSeparatorComponent=info.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent;var SectionSeparatorComponent=this.props.SectionSeparatorComponent;var isLastItemInList=index===this.state.childProps.getItemCount()-1;var isLastItemInSection=info.index===info.section.data.length-1;if(SectionSeparatorComponent&&isLastItemInSection){return SectionSeparatorComponent;}if(ItemSeparatorComponent&&!isLastItemInSection&&!isLastItemInList){return ItemSeparatorComponent;}return null;}},{key:\"__reactstandin__regenerateByEval\",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code);}}]);return VirtualizedSectionList;}(React.PureComponent);VirtualizedSectionList.defaultProps=(0,_objectSpread2.default)({},VirtualizedList.defaultProps,{data:[]});var ItemWithSeparator=function(_React$Component){(0,_inherits2.default)(ItemWithSeparator,_React$Component);function ItemWithSeparator(){var _getPrototypeOf2;var _this2;(0,_classCallCheck2.default)(this,ItemWithSeparator);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this2=(0,_possibleConstructorReturn2.default)(this,(_getPrototypeOf2=(0,_getPrototypeOf3.default)(ItemWithSeparator)).call.apply(_getPrototypeOf2,[this].concat(args)));_this2.state={separatorProps:{highlighted:false,leadingItem:_this2.props.item,leadingSection:_this2.props.leadingSection,section:_this2.props.section,trailingItem:_this2.props.trailingItem,trailingSection:_this2.props.trailingSection},leadingSeparatorProps:{highlighted:false,leadingItem:_this2.props.leadingItem,leadingSection:_this2.props.leadingSection,section:_this2.props.section,trailingItem:_this2.props.item,trailingSection:_this2.props.trailingSection}};_this2._separators={highlight:function highlight(){['leading','trailing'].forEach(function(s){return _this2._separators.updateProps(s,{highlighted:true});});},unhighlight:function unhighlight(){['leading','trailing'].forEach(function(s){return _this2._separators.updateProps(s,{highlighted:false});});},updateProps:function updateProps(select,newProps){var _this2$props=_this2.props,LeadingSeparatorComponent=_this2$props.LeadingSeparatorComponent,cellKey=_this2$props.cellKey,prevCellKey=_this2$props.prevCellKey;if(select==='leading'&&LeadingSeparatorComponent!=null){_this2.setState(function(state){return{leadingSeparatorProps:(0,_objectSpread2.default)({},state.leadingSeparatorProps,newProps)};});}else{_this2.props.onUpdateSeparator(select==='leading'&&prevCellKey||cellKey,newProps);}}};return _this2;}(0,_createClass2.default)(ItemWithSeparator,[{key:\"updateSeparatorProps\",value:function updateSeparatorProps(newProps){this.setState(function(state){return{separatorProps:(0,_objectSpread2.default)({},state.separatorProps,newProps)};});}},{key:\"render\",value:function render(){var _this$props=this.props,LeadingSeparatorComponent=_this$props.LeadingSeparatorComponent,SeparatorComponent=_this$props.SeparatorComponent,item=_this$props.item,index=_this$props.index,section=_this$props.section;var element=this.props.renderItem({item:item,index:index,section:section,separators:this._separators});var leadingSeparator=LeadingSeparatorComponent&&React.createElement(LeadingSeparatorComponent,(0,_extends2.default)({},this.state.leadingSeparatorProps,{__source:{fileName:_jsxFileName,lineNumber:502}}));var separator=SeparatorComponent&&React.createElement(SeparatorComponent,(0,_extends2.default)({},this.state.separatorProps,{__source:{fileName:_jsxFileName,lineNumber:505}}));return leadingSeparator||separator?React.createElement(View,{__source:{fileName:_jsxFileName,lineNumber:508}},leadingSeparator,element,separator):element;}},{key:\"__reactstandin__regenerateByEval\",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,prevState){return{separatorProps:(0,_objectSpread2.default)({},prevState.separatorProps,{leadingItem:props.item,leadingSection:props.leadingSection,section:props.section,trailingItem:props.trailingItem,trailingSection:props.trailingSection}),leadingSeparatorProps:(0,_objectSpread2.default)({},prevState.leadingSeparatorProps,{leadingItem:props.leadingItem,leadingSection:props.leadingSection,section:props.section,trailingItem:props.item,trailingSection:props.trailingSection})};}}]);return ItemWithSeparator;}(React.Component);function getItem(sections,index){if(!sections){return null;}var itemIdx=index-1;for(var ii=0;ii<sections.length;ii++){if(itemIdx===-1||itemIdx===sections[ii].data.length){return sections[ii];}else if(itemIdx<sections[ii].data.length){return sections[ii].data[itemIdx];}else{itemIdx-=sections[ii].data.length+2;}}return null;}module.exports=VirtualizedSectionList;;(function(){var reactHotLoader=require('react-hot-loader').default;var leaveModule=require('react-hot-loader').leaveModule;if(!reactHotLoader){return;}reactHotLoader.register(VirtualizedSectionList,\"VirtualizedSectionList\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Lists/VirtualizedSectionList.js\");reactHotLoader.register(ItemWithSeparator,\"ItemWithSeparator\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Lists/VirtualizedSectionList.js\");reactHotLoader.register(getItem,\"getItem\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Lists/VirtualizedSectionList.js\");leaveModule(module);})();;",{"version":3,"sources":["/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Lists/VirtualizedSectionList.js"],"names":["React","require","View","VirtualizedList","invariant","VirtualizedSectionList","params","index","itemIndex","ii","sectionIndex","props","sections","data","length","toIndexParams","_listRef","scrollToIndex","context","_keyExtractor","item","info","_subExtractor","key","String","_convertViewable","viewable","keyExtractor","section","_onViewableItemsChanged","viewableItems","changed","onViewableItemsChanged","map","filter","Boolean","_renderItem","infoIndex","header","renderSectionHeader","renderSectionFooter","renderItem","SeparatorComponent","_getSeparatorComponent","SectionSeparatorComponent","undefined","leadingItem","leadingSection","_onUpdateSeparator","ref","_cellRefs","trailingItem","trailingSection","newProps","updateSeparatorProps","_captureRef","state","_computeState","nextProps","setState","offset","ListHeaderComponent","stickyHeaderIndices","itemCount","reduce","v","push","childProps","ItemSeparatorComponent","getItemCount","getItem","stickySectionHeadersEnabled","defaultKeyExtractor","isLastItemInList","isLastItemInSection","PureComponent","defaultProps","ItemWithSeparator","separatorProps","highlighted","leadingSeparatorProps","_separators","highlight","forEach","s","updateProps","unhighlight","select","LeadingSeparatorComponent","cellKey","prevCellKey","onUpdateSeparator","element","separators","leadingSeparator","separator","prevState","Component","itemIdx","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n'use strict';\n\nconst React = require('React');\nconst View = require('View');\nconst VirtualizedList = require('VirtualizedList');\n\nconst invariant = require('fbjs/lib/invariant');\n\nimport type {ViewToken} from 'ViewabilityHelper';\nimport type {Props as VirtualizedListProps} from 'VirtualizedList';\n\ntype Item = any;\ntype SectionItem = any;\n\ntype SectionBase = {\n  // Must be provided directly on each section.\n  data: $ReadOnlyArray<SectionItem>,\n  key?: string,\n\n  // Optional props will override list-wide props just for this section.\n  renderItem?: ?({\n    item: SectionItem,\n    index: number,\n    section: SectionBase,\n    separators: {\n      highlight: () => void,\n      unhighlight: () => void,\n      updateProps: (select: 'leading' | 'trailing', newProps: Object) => void,\n    },\n  }) => ?React.Element<any>,\n  ItemSeparatorComponent?: ?React.ComponentType<any>,\n  keyExtractor?: (item: SectionItem, index: ?number) => string,\n\n  // TODO: support more optional/override props\n  // FooterComponent?: ?ReactClass<any>,\n  // HeaderComponent?: ?ReactClass<any>,\n  // onViewableItemsChanged?: ({viewableItems: Array<ViewToken>, changed: Array<ViewToken>}) => void,\n};\n\ntype RequiredProps<SectionT: SectionBase> = {\n  sections: $ReadOnlyArray<SectionT>,\n};\n\ntype OptionalProps<SectionT: SectionBase> = {\n  /**\n   * Rendered after the last item in the last section.\n   */\n  ListFooterComponent?: ?(React.ComponentType<any> | React.Element<any>),\n  /**\n   * Rendered at the very beginning of the list.\n   */\n  ListHeaderComponent?: ?(React.ComponentType<any> | React.Element<any>),\n  /**\n   * Default renderer for every item in every section.\n   */\n  renderItem?: (info: {\n    item: Item,\n    index: number,\n    section: SectionT,\n    separators: {\n      highlight: () => void,\n      unhighlight: () => void,\n      updateProps: (select: 'leading' | 'trailing', newProps: Object) => void,\n    },\n  }) => ?React.Element<any>,\n  /**\n   * Rendered at the top of each section.\n   */\n  renderSectionHeader?: ?({section: SectionT}) => ?React.Element<any>,\n  /**\n   * Rendered at the bottom of each section.\n   */\n  renderSectionFooter?: ?({section: SectionT}) => ?React.Element<any>,\n  /**\n   * Rendered at the bottom of every Section, except the very last one, in place of the normal\n   * ItemSeparatorComponent.\n   */\n  SectionSeparatorComponent?: ?React.ComponentType<any>,\n  /**\n   * Rendered at the bottom of every Item except the very last one in the last section.\n   */\n  ItemSeparatorComponent?: ?React.ComponentType<any>,\n  /**\n   * Warning: Virtualization can drastically improve memory consumption for long lists, but trashes\n   * the state of items when they scroll out of the render window, so make sure all relavent data is\n   * stored outside of the recursive `renderItem` instance tree.\n   */\n  enableVirtualization?: ?boolean,\n  keyExtractor: (item: Item, index: number) => string,\n  onEndReached?: ?({distanceFromEnd: number}) => void,\n  /**\n   * If provided, a standard RefreshControl will be added for \"Pull to Refresh\" functionality. Make\n   * sure to also set the `refreshing` prop correctly.\n   */\n  onRefresh?: ?() => void,\n  /**\n   * Called when the viewability of rows changes, as defined by the\n   * `viewabilityConfig` prop.\n   */\n  onViewableItemsChanged?: ?({\n    viewableItems: Array<ViewToken>,\n    changed: Array<ViewToken>,\n  }) => void,\n  /**\n   * Set this true while waiting for new data from a refresh.\n   */\n  refreshing?: ?boolean,\n};\n\nexport type Props<SectionT> = RequiredProps<SectionT> &\n  OptionalProps<SectionT> &\n  VirtualizedListProps;\n\ntype DefaultProps = typeof VirtualizedList.defaultProps & {\n  data: $ReadOnlyArray<Item>,\n};\ntype State = {childProps: VirtualizedListProps};\n\n/**\n * Right now this just flattens everything into one list and uses VirtualizedList under the\n * hood. The only operation that might not scale well is concatting the data arrays of all the\n * sections when new props are received, which should be plenty fast for up to ~10,000 items.\n */\nclass VirtualizedSectionList<SectionT: SectionBase> extends React.PureComponent<\n  Props<SectionT>,\n  State,\n> {\n  static defaultProps: DefaultProps = {\n    ...VirtualizedList.defaultProps,\n    data: [],\n  };\n\n  scrollToLocation(params: {\n    animated?: ?boolean,\n    itemIndex: number,\n    sectionIndex: number,\n    viewPosition?: number,\n  }) {\n    let index = params.itemIndex + 1;\n    for (let ii = 0; ii < params.sectionIndex; ii++) {\n      index += this.props.sections[ii].data.length + 2;\n    }\n    const toIndexParams = {\n      ...params,\n      index,\n    };\n    this._listRef.scrollToIndex(toIndexParams);\n  }\n\n  getListRef(): VirtualizedList {\n    return this._listRef;\n  }\n\n  constructor(props: Props<SectionT>, context: Object) {\n    super(props, context);\n    this.state = this._computeState(props);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props<SectionT>) {\n    this.setState(this._computeState(nextProps));\n  }\n\n  _computeState(props: Props<SectionT>): State {\n    const offset = props.ListHeaderComponent ? 1 : 0;\n    const stickyHeaderIndices = [];\n    const itemCount = props.sections.reduce((v, section) => {\n      stickyHeaderIndices.push(v + offset);\n      return v + section.data.length + 2; // Add two for the section header and footer.\n    }, 0);\n\n    return {\n      childProps: {\n        ...props,\n        renderItem: this._renderItem,\n        ItemSeparatorComponent: undefined, // Rendered with renderItem\n        data: props.sections,\n        getItemCount: () => itemCount,\n        getItem,\n        keyExtractor: this._keyExtractor,\n        onViewableItemsChanged: props.onViewableItemsChanged\n          ? this._onViewableItemsChanged\n          : undefined,\n        stickyHeaderIndices: props.stickySectionHeadersEnabled\n          ? stickyHeaderIndices\n          : undefined,\n      },\n    };\n  }\n\n  render() {\n    return (\n      <VirtualizedList {...this.state.childProps} ref={this._captureRef} />\n    );\n  }\n\n  _keyExtractor = (item: Item, index: number) => {\n    const info = this._subExtractor(index);\n    return (info && info.key) || String(index);\n  };\n\n  _subExtractor(\n    index: number,\n  ): ?{\n    section: SectionT,\n    key: string, // Key of the section or combined key for section + item\n    index: ?number, // Relative index within the section\n    header?: ?boolean, // True if this is the section header\n    leadingItem?: ?Item,\n    leadingSection?: ?SectionT,\n    trailingItem?: ?Item,\n    trailingSection?: ?SectionT,\n  } {\n    let itemIndex = index;\n    const defaultKeyExtractor = this.props.keyExtractor;\n    for (let ii = 0; ii < this.props.sections.length; ii++) {\n      const section = this.props.sections[ii];\n      const key = section.key || String(ii);\n      itemIndex -= 1; // The section adds an item for the header\n      if (itemIndex >= section.data.length + 1) {\n        itemIndex -= section.data.length + 1; // The section adds an item for the footer.\n      } else if (itemIndex === -1) {\n        return {\n          section,\n          key: key + ':header',\n          index: null,\n          header: true,\n          trailingSection: this.props.sections[ii + 1],\n        };\n      } else if (itemIndex === section.data.length) {\n        return {\n          section,\n          key: key + ':footer',\n          index: null,\n          header: false,\n          trailingSection: this.props.sections[ii + 1],\n        };\n      } else {\n        const keyExtractor = section.keyExtractor || defaultKeyExtractor;\n        return {\n          section,\n          key: key + ':' + keyExtractor(section.data[itemIndex], itemIndex),\n          index: itemIndex,\n          leadingItem: section.data[itemIndex - 1],\n          leadingSection: this.props.sections[ii - 1],\n          trailingItem: section.data[itemIndex + 1],\n          trailingSection: this.props.sections[ii + 1],\n        };\n      }\n    }\n  }\n\n  _convertViewable = (viewable: ViewToken): ?ViewToken => {\n    invariant(viewable.index != null, 'Received a broken ViewToken');\n    const info = this._subExtractor(viewable.index);\n    if (!info) {\n      return null;\n    }\n    const keyExtractor = info.section.keyExtractor || this.props.keyExtractor;\n    return {\n      ...viewable,\n      index: info.index,\n      /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n       * error found when Flow v0.63 was deployed. To see the error delete this\n       * comment and run Flow. */\n      key: keyExtractor(viewable.item, info.index),\n      section: info.section,\n    };\n  };\n\n  _onViewableItemsChanged = ({\n    viewableItems,\n    changed,\n  }: {\n    viewableItems: Array<ViewToken>,\n    changed: Array<ViewToken>,\n  }) => {\n    if (this.props.onViewableItemsChanged) {\n      this.props.onViewableItemsChanged({\n        viewableItems: viewableItems\n          .map(this._convertViewable, this)\n          .filter(Boolean),\n        changed: changed.map(this._convertViewable, this).filter(Boolean),\n      });\n    }\n  };\n\n  _renderItem = ({item, index}: {item: Item, index: number}) => {\n    const info = this._subExtractor(index);\n    if (!info) {\n      return null;\n    }\n    const infoIndex = info.index;\n    if (infoIndex == null) {\n      const {section} = info;\n      if (info.header === true) {\n        const {renderSectionHeader} = this.props;\n        return renderSectionHeader ? renderSectionHeader({section}) : null;\n      } else {\n        const {renderSectionFooter} = this.props;\n        return renderSectionFooter ? renderSectionFooter({section}) : null;\n      }\n    } else {\n      const renderItem = info.section.renderItem || this.props.renderItem;\n      const SeparatorComponent = this._getSeparatorComponent(index, info);\n      invariant(renderItem, 'no renderItem!');\n      return (\n        <ItemWithSeparator\n          SeparatorComponent={SeparatorComponent}\n          LeadingSeparatorComponent={\n            infoIndex === 0 ? this.props.SectionSeparatorComponent : undefined\n          }\n          cellKey={info.key}\n          index={infoIndex}\n          item={item}\n          leadingItem={info.leadingItem}\n          leadingSection={info.leadingSection}\n          onUpdateSeparator={this._onUpdateSeparator}\n          prevCellKey={(this._subExtractor(index - 1) || {}).key}\n          ref={ref => {\n            this._cellRefs[info.key] = ref;\n          }}\n          renderItem={renderItem}\n          section={info.section}\n          trailingItem={info.trailingItem}\n          trailingSection={info.trailingSection}\n        />\n      );\n    }\n  };\n\n  _onUpdateSeparator = (key: string, newProps: Object) => {\n    const ref = this._cellRefs[key];\n    ref && ref.updateSeparatorProps(newProps);\n  };\n\n  _getSeparatorComponent(\n    index: number,\n    info?: ?Object,\n  ): ?React.ComponentType<any> {\n    info = info || this._subExtractor(index);\n    if (!info) {\n      return null;\n    }\n    const ItemSeparatorComponent =\n      info.section.ItemSeparatorComponent || this.props.ItemSeparatorComponent;\n    const {SectionSeparatorComponent} = this.props;\n    const isLastItemInList = index === this.state.childProps.getItemCount() - 1;\n    const isLastItemInSection = info.index === info.section.data.length - 1;\n    if (SectionSeparatorComponent && isLastItemInSection) {\n      return SectionSeparatorComponent;\n    }\n    if (ItemSeparatorComponent && !isLastItemInSection && !isLastItemInList) {\n      return ItemSeparatorComponent;\n    }\n    return null;\n  }\n\n  _cellRefs = {};\n  _listRef: VirtualizedList;\n  _captureRef = ref => {\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n     * suppresses an error when upgrading Flow's support for React. To see the\n     * error delete this comment and run Flow. */\n    this._listRef = ref;\n  };\n}\n\ntype ItemWithSeparatorCommonProps = $ReadOnly<{|\n  leadingItem: ?Item,\n  leadingSection: ?Object,\n  section: Object,\n  trailingItem: ?Item,\n  trailingSection: ?Object,\n|}>;\n\ntype ItemWithSeparatorProps = $ReadOnly<{|\n  ...ItemWithSeparatorCommonProps,\n  LeadingSeparatorComponent: ?React.ComponentType<any>,\n  SeparatorComponent: ?React.ComponentType<any>,\n  cellKey: string,\n  index: number,\n  item: Item,\n  onUpdateSeparator: (cellKey: string, newProps: Object) => void,\n  prevCellKey?: ?string,\n  renderItem: Function,\n|}>;\n\ntype ItemWithSeparatorState = {\n  separatorProps: $ReadOnly<{|\n    highlighted: false,\n    ...ItemWithSeparatorCommonProps,\n  |}>,\n  leadingSeparatorProps: $ReadOnly<{|\n    highlighted: false,\n    ...ItemWithSeparatorCommonProps,\n  |}>,\n};\n\nclass ItemWithSeparator extends React.Component<\n  ItemWithSeparatorProps,\n  ItemWithSeparatorState,\n> {\n  state = {\n    separatorProps: {\n      highlighted: false,\n      leadingItem: this.props.item,\n      leadingSection: this.props.leadingSection,\n      section: this.props.section,\n      trailingItem: this.props.trailingItem,\n      trailingSection: this.props.trailingSection,\n    },\n    leadingSeparatorProps: {\n      highlighted: false,\n      leadingItem: this.props.leadingItem,\n      leadingSection: this.props.leadingSection,\n      section: this.props.section,\n      trailingItem: this.props.item,\n      trailingSection: this.props.trailingSection,\n    },\n  };\n\n  _separators = {\n    highlight: () => {\n      ['leading', 'trailing'].forEach(s =>\n        this._separators.updateProps(s, {highlighted: true}),\n      );\n    },\n    unhighlight: () => {\n      ['leading', 'trailing'].forEach(s =>\n        this._separators.updateProps(s, {highlighted: false}),\n      );\n    },\n    updateProps: (select: 'leading' | 'trailing', newProps: Object) => {\n      const {LeadingSeparatorComponent, cellKey, prevCellKey} = this.props;\n      if (select === 'leading' && LeadingSeparatorComponent != null) {\n        this.setState(state => ({\n          leadingSeparatorProps: {...state.leadingSeparatorProps, ...newProps},\n        }));\n      } else {\n        this.props.onUpdateSeparator(\n          (select === 'leading' && prevCellKey) || cellKey,\n          newProps,\n        );\n      }\n    },\n  };\n\n  static getDerivedStateFromProps(\n    props: ItemWithSeparatorProps,\n    prevState: ItemWithSeparatorState,\n  ): ?ItemWithSeparatorState {\n    return {\n      separatorProps: {\n        ...prevState.separatorProps,\n        leadingItem: props.item,\n        leadingSection: props.leadingSection,\n        section: props.section,\n        trailingItem: props.trailingItem,\n        trailingSection: props.trailingSection,\n      },\n      leadingSeparatorProps: {\n        ...prevState.leadingSeparatorProps,\n        leadingItem: props.leadingItem,\n        leadingSection: props.leadingSection,\n        section: props.section,\n        trailingItem: props.item,\n        trailingSection: props.trailingSection,\n      },\n    };\n  }\n\n  updateSeparatorProps(newProps: Object) {\n    this.setState(state => ({\n      separatorProps: {...state.separatorProps, ...newProps},\n    }));\n  }\n\n  render() {\n    const {\n      LeadingSeparatorComponent,\n      SeparatorComponent,\n      item,\n      index,\n      section,\n    } = this.props;\n    const element = this.props.renderItem({\n      item,\n      index,\n      section,\n      separators: this._separators,\n    });\n    const leadingSeparator = LeadingSeparatorComponent && (\n      <LeadingSeparatorComponent {...this.state.leadingSeparatorProps} />\n    );\n    const separator = SeparatorComponent && (\n      <SeparatorComponent {...this.state.separatorProps} />\n    );\n    return leadingSeparator || separator ? (\n      <View>\n        {leadingSeparator}\n        {element}\n        {separator}\n      </View>\n    ) : (\n      element\n    );\n  }\n}\n\nfunction getItem(sections: ?$ReadOnlyArray<Item>, index: number): ?Item {\n  if (!sections) {\n    return null;\n  }\n  let itemIdx = index - 1;\n  for (let ii = 0; ii < sections.length; ii++) {\n    if (itemIdx === -1 || itemIdx === sections[ii].data.length) {\n      // We intend for there to be overflow by one on both ends of the list.\n      // This will be for headers and footers. When returning a header or footer\n      // item the section itself is the item.\n      return sections[ii];\n    } else if (itemIdx < sections[ii].data.length) {\n      // If we are in the bounds of the list's data then return the item.\n      return sections[ii].data[itemIdx];\n    } else {\n      itemIdx -= sections[ii].data.length + 2; // Add two for the header and footer\n    }\n  }\n  return null;\n}\n\nmodule.exports = VirtualizedSectionList;\n"]}]}