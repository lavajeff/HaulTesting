{"remainingRequest":"/Users/jeffrey/HaulTesting/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/jeffrey/HaulTesting/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/JSInspector/NetworkAgent.js","dependencies":[{"path":"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/JSInspector/NetworkAgent.js","mtime":1539700108130},{"path":"/Users/jeffrey/HaulTesting/node_modules/cache-loader/dist/cjs.js","mtime":1539652983212},{"path":"/Users/jeffrey/HaulTesting/node_modules/thread-loader/dist/cjs.js","mtime":1539652983315},{"path":"/Users/jeffrey/HaulTesting/node_modules/babel-loader/lib/index.js","mtime":1539615827828}],"contextDependencies":[],"result":["'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));(function(){var enterModule=require('react-hot-loader').enterModule;enterModule&&enterModule(module);})();var InspectorAgent=require('InspectorAgent');var JSInspector=require('JSInspector');var Map=require('Map');var XMLHttpRequest=require('XMLHttpRequest');var Interceptor=function(){function Interceptor(agent){(0,_classCallCheck2.default)(this,Interceptor);this._agent=agent;this._requests=new Map();}(0,_createClass2.default)(Interceptor,[{key:\"getData\",value:function getData(requestId){return this._requests.get(requestId);}},{key:\"requestSent\",value:function requestSent(id,url,method,headers){var requestId=String(id);this._requests.set(requestId,'');var request={url:url,method:method,headers:headers,initialPriority:'Medium'};var event={requestId:requestId,documentURL:'',frameId:'1',loaderId:'1',request:request,timestamp:JSInspector.getTimestamp(),initiator:{type:'other'},type:'Other'};this._agent.sendEvent('requestWillBeSent',event);}},{key:\"responseReceived\",value:function responseReceived(id,url,status,headers){var requestId=String(id);var response={url:url,status:status,statusText:String(status),headers:headers,requestHeaders:{},mimeType:this._getMimeType(headers),connectionReused:false,connectionId:-1,encodedDataLength:0,securityState:'unknown'};var event={requestId:requestId,frameId:'1',loaderId:'1',timestamp:JSInspector.getTimestamp(),type:'Other',response:response};this._agent.sendEvent('responseReceived',event);}},{key:\"dataReceived\",value:function dataReceived(id,data){var requestId=String(id);var existingData=this._requests.get(requestId)||'';this._requests.set(requestId,existingData.concat(data));var event={requestId:requestId,timestamp:JSInspector.getTimestamp(),dataLength:data.length,encodedDataLength:data.length};this._agent.sendEvent('dataReceived',event);}},{key:\"loadingFinished\",value:function loadingFinished(id,encodedDataLength){var event={requestId:String(id),timestamp:JSInspector.getTimestamp(),encodedDataLength:encodedDataLength};this._agent.sendEvent('loadingFinished',event);}},{key:\"loadingFailed\",value:function loadingFailed(id,error){var event={requestId:String(id),timestamp:JSInspector.getTimestamp(),type:'Other',errorText:error};this._agent.sendEvent('loadingFailed',event);}},{key:\"_getMimeType\",value:function _getMimeType(headers){var contentType=headers['Content-Type']||'';return contentType.split(';')[0];}},{key:\"__reactstandin__regenerateByEval\",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code);}}]);return Interceptor;}();var NetworkAgent=function(_InspectorAgent){(0,_inherits2.default)(NetworkAgent,_InspectorAgent);function NetworkAgent(){(0,_classCallCheck2.default)(this,NetworkAgent);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(NetworkAgent).apply(this,arguments));}(0,_createClass2.default)(NetworkAgent,[{key:\"enable\",value:function enable(_ref){var maxResourceBufferSize=_ref.maxResourceBufferSize,maxTotalBufferSize=_ref.maxTotalBufferSize;this._interceptor=new Interceptor(this);XMLHttpRequest.setInterceptor(this._interceptor);}},{key:\"disable\",value:function disable(){XMLHttpRequest.setInterceptor(null);this._interceptor=null;}},{key:\"getResponseBody\",value:function getResponseBody(_ref2){var requestId=_ref2.requestId;return{body:this.interceptor().getData(requestId),base64Encoded:false};}},{key:\"interceptor\",value:function interceptor(){if(this._interceptor){return this._interceptor;}else{throw Error('_interceptor can not be null');}}},{key:\"__reactstandin__regenerateByEval\",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code);}}]);return NetworkAgent;}(InspectorAgent);NetworkAgent.DOMAIN='Network';module.exports=NetworkAgent;;(function(){var reactHotLoader=require('react-hot-loader').default;var leaveModule=require('react-hot-loader').leaveModule;if(!reactHotLoader){return;}reactHotLoader.register(Interceptor,\"Interceptor\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/JSInspector/NetworkAgent.js\");reactHotLoader.register(NetworkAgent,\"NetworkAgent\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/JSInspector/NetworkAgent.js\");leaveModule(module);})();;",{"version":3,"sources":["/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/JSInspector/NetworkAgent.js"],"names":["InspectorAgent","require","JSInspector","Map","XMLHttpRequest","Interceptor","agent","_agent","_requests","requestId","get","id","url","method","headers","String","set","request","initialPriority","event","documentURL","frameId","loaderId","timestamp","getTimestamp","initiator","type","sendEvent","status","response","statusText","requestHeaders","mimeType","_getMimeType","connectionReused","connectionId","encodedDataLength","securityState","data","existingData","concat","dataLength","length","error","errorText","contentType","split","NetworkAgent","maxResourceBufferSize","maxTotalBufferSize","_interceptor","setInterceptor","body","interceptor","getData","base64Encoded","Error","DOMAIN","module","exports"],"mappings":"AAUA,a,upBAEA,GAAMA,CAAAA,cAAc,CAAGC,OAAO,CAAC,gBAAD,CAA9B,CACA,GAAMC,CAAAA,WAAW,CAAGD,OAAO,CAAC,aAAD,CAA3B,CACA,GAAME,CAAAA,GAAG,CAAGF,OAAO,CAAC,KAAD,CAAnB,CACA,GAAMG,CAAAA,cAAc,CAAGH,OAAO,CAAC,gBAAD,CAA9B,C,GA+HMI,CAAAA,W,YAIJ,qBAAYC,KAAZ,CAAiC,gDAC/B,KAAKC,MAAL,CAAcD,KAAd,CACA,KAAKE,SAAL,CAAiB,GAAIL,CAAAA,GAAJ,EAAjB,CACD,C,6EAEOM,S,CAA4B,CAClC,MAAO,MAAKD,SAAL,CAAeE,GAAf,CAAmBD,SAAnB,CAAP,CACD,C,gDAEWE,E,CAAYC,G,CAAaC,M,CAAgBC,O,CAAiB,CACpE,GAAML,CAAAA,SAAS,CAAGM,MAAM,CAACJ,EAAD,CAAxB,CACA,KAAKH,SAAL,CAAeQ,GAAf,CAAmBP,SAAnB,CAA8B,EAA9B,EAEA,GAAMQ,CAAAA,OAAgB,CAAG,CACvBL,GAAG,CAAHA,GADuB,CAEvBC,MAAM,CAANA,MAFuB,CAGvBC,OAAO,CAAPA,OAHuB,CAIvBI,eAAe,CAAE,QAJM,CAAzB,CAMA,GAAMC,CAAAA,KAA6B,CAAG,CACpCV,SAAS,CAATA,SADoC,CAEpCW,WAAW,CAAE,EAFuB,CAGpCC,OAAO,CAAE,GAH2B,CAIpCC,QAAQ,CAAE,GAJ0B,CAKpCL,OAAO,CAAPA,OALoC,CAMpCM,SAAS,CAAErB,WAAW,CAACsB,YAAZ,EANyB,CAOpCC,SAAS,CAAE,CAITC,IAAI,CAAE,OAJG,CAPyB,CAapCA,IAAI,CAAE,OAb8B,CAAtC,CAeA,KAAKnB,MAAL,CAAYoB,SAAZ,CAAsB,mBAAtB,CAA2CR,KAA3C,EACD,C,0DAEgBR,E,CAAYC,G,CAAagB,M,CAAgBd,O,CAAiB,CACzE,GAAML,CAAAA,SAAS,CAAGM,MAAM,CAACJ,EAAD,CAAxB,CACA,GAAMkB,CAAAA,QAAkB,CAAG,CACzBjB,GAAG,CAAHA,GADyB,CAEzBgB,MAAM,CAANA,MAFyB,CAGzBE,UAAU,CAAEf,MAAM,CAACa,MAAD,CAHO,CAIzBd,OAAO,CAAPA,OAJyB,CAMzBiB,cAAc,CAAE,EANS,CAOzBC,QAAQ,CAAE,KAAKC,YAAL,CAAkBnB,OAAlB,CAPe,CAQzBoB,gBAAgB,CAAE,KARO,CASzBC,YAAY,CAAE,CAAC,CATU,CAUzBC,iBAAiB,CAAE,CAVM,CAWzBC,aAAa,CAAE,SAXU,CAA3B,CAcA,GAAMlB,CAAAA,KAA4B,CAAG,CACnCV,SAAS,CAATA,SADmC,CAEnCY,OAAO,CAAE,GAF0B,CAGnCC,QAAQ,CAAE,GAHyB,CAInCC,SAAS,CAAErB,WAAW,CAACsB,YAAZ,EAJwB,CAKnCE,IAAI,CAAE,OAL6B,CAMnCG,QAAQ,CAARA,QANmC,CAArC,CAQA,KAAKtB,MAAL,CAAYoB,SAAZ,CAAsB,kBAAtB,CAA0CR,KAA1C,EACD,C,kDAEYR,E,CAAY2B,I,CAAc,CACrC,GAAM7B,CAAAA,SAAS,CAAGM,MAAM,CAACJ,EAAD,CAAxB,CACA,GAAM4B,CAAAA,YAAY,CAAG,KAAK/B,SAAL,CAAeE,GAAf,CAAmBD,SAAnB,GAAiC,EAAtD,CACA,KAAKD,SAAL,CAAeQ,GAAf,CAAmBP,SAAnB,CAA8B8B,YAAY,CAACC,MAAb,CAAoBF,IAApB,CAA9B,EACA,GAAMnB,CAAAA,KAAmB,CAAG,CAC1BV,SAAS,CAATA,SAD0B,CAE1Bc,SAAS,CAAErB,WAAW,CAACsB,YAAZ,EAFe,CAG1BiB,UAAU,CAAEH,IAAI,CAACI,MAHS,CAI1BN,iBAAiB,CAAEE,IAAI,CAACI,MAJE,CAA5B,CAMA,KAAKnC,MAAL,CAAYoB,SAAZ,CAAsB,cAAtB,CAAsCR,KAAtC,EACD,C,wDAEeR,E,CAAYyB,iB,CAA2B,CACrD,GAAMjB,CAAAA,KAA2B,CAAG,CAClCV,SAAS,CAAEM,MAAM,CAACJ,EAAD,CADiB,CAElCY,SAAS,CAAErB,WAAW,CAACsB,YAAZ,EAFuB,CAGlCY,iBAAiB,CAAEA,iBAHe,CAApC,CAKA,KAAK7B,MAAL,CAAYoB,SAAZ,CAAsB,iBAAtB,CAAyCR,KAAzC,EACD,C,oDAEaR,E,CAAYgC,K,CAAe,CACvC,GAAMxB,CAAAA,KAAyB,CAAG,CAChCV,SAAS,CAAEM,MAAM,CAACJ,EAAD,CADe,CAEhCY,SAAS,CAAErB,WAAW,CAACsB,YAAZ,EAFqB,CAGhCE,IAAI,CAAE,OAH0B,CAIhCkB,SAAS,CAAED,KAJqB,CAAlC,CAMA,KAAKpC,MAAL,CAAYoB,SAAZ,CAAsB,eAAtB,CAAuCR,KAAvC,EACD,C,kDAEYL,O,CAAyB,CACpC,GAAM+B,CAAAA,WAAW,CAAG/B,OAAO,CAAC,cAAD,CAAP,EAA2B,EAA/C,CACA,MAAO+B,CAAAA,WAAW,CAACC,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAP,CACD,C,wJAQGC,CAAAA,Y,+VAM4D,IAAxDC,CAAAA,qBAAwD,MAAxDA,qBAAwD,CAAjCC,kBAAiC,MAAjCA,kBAAiC,CAC9D,KAAKC,YAAL,CAAoB,GAAI7C,CAAAA,WAAJ,CAAgB,IAAhB,CAApB,CACAD,cAAc,CAAC+C,cAAf,CAA8B,KAAKD,YAAnC,EACD,C,yCAES,CACR9C,cAAc,CAAC+C,cAAf,CAA8B,IAA9B,EACA,KAAKD,YAAL,CAAoB,IAApB,CACD,C,8DAM2C,IAH1CzC,CAAAA,SAG0C,OAH1CA,SAG0C,CAC1C,MAAO,CAAC2C,IAAI,CAAE,KAAKC,WAAL,GAAmBC,OAAnB,CAA2B7C,SAA3B,CAAP,CAA8C8C,aAAa,CAAE,KAA7D,CAAP,CACD,C,iDAE0B,CACzB,GAAI,KAAKL,YAAT,CAAuB,CACrB,MAAO,MAAKA,YAAZ,CACD,CAFD,IAEO,CACL,KAAMM,CAAAA,KAAK,CAAC,8BAAD,CAAX,CACD,CACF,C,oJA9BwBxD,c,EAArB+C,Y,CACGU,M,CAAS,S,CAgClBC,MAAM,CAACC,OAAP,CAAiBZ,YAAjB,C,gLAhJM1C,W,qIA+GA0C,Y","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst InspectorAgent = require('InspectorAgent');\nconst JSInspector = require('JSInspector');\nconst Map = require('Map');\nconst XMLHttpRequest = require('XMLHttpRequest');\n\nimport type EventSender from 'InspectorAgent';\n\ntype RequestId = string;\n\ntype LoaderId = string;\ntype FrameId = string;\ntype Timestamp = number;\n\ntype Headers = Object;\n\n// We don't currently care about this\ntype ResourceTiming = null;\n\ntype ResourceType =\n  | 'Document'\n  | 'Stylesheet'\n  | 'Image'\n  | 'Media'\n  | 'Font'\n  | 'Script'\n  | 'TextTrack'\n  | 'XHR'\n  | 'Fetch'\n  | 'EventSource'\n  | 'WebSocket'\n  | 'Manifest'\n  | 'Other';\n\ntype SecurityState =\n  | 'unknown'\n  | 'neutral'\n  | 'insecure'\n  | 'warning'\n  | 'secure'\n  | 'info';\ntype BlockedReason =\n  | 'csp'\n  | 'mixed-content'\n  | 'origin'\n  | 'inspector'\n  | 'subresource-filter'\n  | 'other';\n\ntype StackTrace = null;\n\ntype Initiator = {\n  type: 'script' | 'other',\n  stackTrace?: StackTrace,\n  url?: string,\n  lineNumber?: number,\n};\n\ntype ResourcePriority = 'VeryLow' | 'Low' | 'Medium' | 'High' | 'VeryHigh';\n\ntype Request = {\n  url: string,\n  method: string,\n  headers: Headers,\n  postData?: string,\n  mixedContentType?: 'blockable' | 'optionally-blockable' | 'none',\n  initialPriority: ResourcePriority,\n};\n\ntype Response = {\n  url: string,\n  status: number,\n  statusText: string,\n  headers: Headers,\n  headersText?: string,\n  mimeType: string,\n  requestHeaders?: Headers,\n  requestHeadersText?: string,\n  connectionReused: boolean,\n  connectionId: number,\n  fromDiskCache?: boolean,\n  encodedDataLength: number,\n  timing?: ResourceTiming,\n  securityState: SecurityState,\n};\n\ntype RequestWillBeSentEvent = {\n  requestId: RequestId,\n  frameId: FrameId,\n  loaderId: LoaderId,\n  documentURL: string,\n  request: Request,\n  timestamp: Timestamp,\n  initiator: Initiator,\n  redirectResponse?: Response,\n  // This is supposed to be optional but the inspector crashes without it,\n  // see https://bugs.chromium.org/p/chromium/issues/detail?id=653138\n  type: ResourceType,\n};\n\ntype ResponseReceivedEvent = {\n  requestId: RequestId,\n  frameId: FrameId,\n  loaderId: LoaderId,\n  timestamp: Timestamp,\n  type: ResourceType,\n  response: Response,\n};\n\ntype DataReceived = {\n  requestId: RequestId,\n  timestamp: Timestamp,\n  dataLength: number,\n  encodedDataLength: number,\n};\n\ntype LoadingFinishedEvent = {\n  requestId: RequestId,\n  timestamp: Timestamp,\n  encodedDataLength: number,\n};\n\ntype LoadingFailedEvent = {\n  requestId: RequestId,\n  timestamp: Timestamp,\n  type: ResourceType,\n  errorText: string,\n  canceled?: boolean,\n  blockedReason?: BlockedReason,\n};\n\nclass Interceptor {\n  _agent: NetworkAgent;\n  _requests: Map<string, string>;\n\n  constructor(agent: NetworkAgent) {\n    this._agent = agent;\n    this._requests = new Map();\n  }\n\n  getData(requestId: string): ?string {\n    return this._requests.get(requestId);\n  }\n\n  requestSent(id: number, url: string, method: string, headers: Object) {\n    const requestId = String(id);\n    this._requests.set(requestId, '');\n\n    const request: Request = {\n      url,\n      method,\n      headers,\n      initialPriority: 'Medium',\n    };\n    const event: RequestWillBeSentEvent = {\n      requestId,\n      documentURL: '',\n      frameId: '1',\n      loaderId: '1',\n      request,\n      timestamp: JSInspector.getTimestamp(),\n      initiator: {\n        // TODO(blom): Get stack trace\n        // If type is 'script' the inspector will try to execute\n        // `stack.callFrames[0]`\n        type: 'other',\n      },\n      type: 'Other',\n    };\n    this._agent.sendEvent('requestWillBeSent', event);\n  }\n\n  responseReceived(id: number, url: string, status: number, headers: Object) {\n    const requestId = String(id);\n    const response: Response = {\n      url,\n      status,\n      statusText: String(status),\n      headers,\n      // TODO(blom) refined headers, can we get this?\n      requestHeaders: {},\n      mimeType: this._getMimeType(headers),\n      connectionReused: false,\n      connectionId: -1,\n      encodedDataLength: 0,\n      securityState: 'unknown',\n    };\n\n    const event: ResponseReceivedEvent = {\n      requestId,\n      frameId: '1',\n      loaderId: '1',\n      timestamp: JSInspector.getTimestamp(),\n      type: 'Other',\n      response,\n    };\n    this._agent.sendEvent('responseReceived', event);\n  }\n\n  dataReceived(id: number, data: string) {\n    const requestId = String(id);\n    const existingData = this._requests.get(requestId) || '';\n    this._requests.set(requestId, existingData.concat(data));\n    const event: DataReceived = {\n      requestId,\n      timestamp: JSInspector.getTimestamp(),\n      dataLength: data.length,\n      encodedDataLength: data.length,\n    };\n    this._agent.sendEvent('dataReceived', event);\n  }\n\n  loadingFinished(id: number, encodedDataLength: number) {\n    const event: LoadingFinishedEvent = {\n      requestId: String(id),\n      timestamp: JSInspector.getTimestamp(),\n      encodedDataLength: encodedDataLength,\n    };\n    this._agent.sendEvent('loadingFinished', event);\n  }\n\n  loadingFailed(id: number, error: string) {\n    const event: LoadingFailedEvent = {\n      requestId: String(id),\n      timestamp: JSInspector.getTimestamp(),\n      type: 'Other',\n      errorText: error,\n    };\n    this._agent.sendEvent('loadingFailed', event);\n  }\n\n  _getMimeType(headers: Object): string {\n    const contentType = headers['Content-Type'] || '';\n    return contentType.split(';')[0];\n  }\n}\n\ntype EnableArgs = {\n  maxResourceBufferSize?: number,\n  maxTotalBufferSize?: number,\n};\n\nclass NetworkAgent extends InspectorAgent {\n  static DOMAIN = 'Network';\n\n  _sendEvent: EventSender;\n  _interceptor: ?Interceptor;\n\n  enable({maxResourceBufferSize, maxTotalBufferSize}: EnableArgs) {\n    this._interceptor = new Interceptor(this);\n    XMLHttpRequest.setInterceptor(this._interceptor);\n  }\n\n  disable() {\n    XMLHttpRequest.setInterceptor(null);\n    this._interceptor = null;\n  }\n\n  getResponseBody({\n    requestId,\n  }: {\n    requestId: RequestId,\n  }): {body: ?string, base64Encoded: boolean} {\n    return {body: this.interceptor().getData(requestId), base64Encoded: false};\n  }\n\n  interceptor(): Interceptor {\n    if (this._interceptor) {\n      return this._interceptor;\n    } else {\n      throw Error('_interceptor can not be null');\n    }\n  }\n}\n\nmodule.exports = NetworkAgent;\n"]}]}