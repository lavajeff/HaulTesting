{"remainingRequest":"/Users/jeffrey/HaulTesting/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/jeffrey/HaulTesting/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js","dependencies":[{"path":"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js","mtime":1539700108130},{"path":"/Users/jeffrey/HaulTesting/node_modules/cache-loader/dist/cjs.js","mtime":1539652983212},{"path":"/Users/jeffrey/HaulTesting/node_modules/thread-loader/dist/cjs.js","mtime":1539652983315},{"path":"/Users/jeffrey/HaulTesting/node_modules/babel-loader/lib/index.js","mtime":1539615827828}],"contextDependencies":[],"result":["'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _jsxFileName=\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js\";(function(){var enterModule=require('react-hot-loader').enterModule;enterModule&&enterModule(module);})();var Dimensions=require('Dimensions');var InspectorOverlay=require('InspectorOverlay');var InspectorPanel=require('InspectorPanel');var Platform=require('Platform');var React=require('React');var ReactNative=require('ReactNative');var StyleSheet=require('StyleSheet');var Touchable=require('Touchable');var UIManager=require('UIManager');var View=require('View');var emptyObject=require('fbjs/lib/emptyObject');var invariant=require('fbjs/lib/invariant');var hook=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;var renderers=findRenderers();hook.resolveRNStyle=require('flattenStyle');function findRenderers(){var allRenderers=Object.keys(hook._renderers).map(function(key){return hook._renderers[key];});invariant(allRenderers.length>=1,'Expected to find at least one React Native renderer on DevTools hook.');return allRenderers;}function getInspectorDataForViewTag(touchedViewTag){for(var i=0;i<renderers.length;i++){var renderer=renderers[i];var inspectorData=renderer.getInspectorDataForViewTag(touchedViewTag);if(inspectorData.hierarchy.length>0){return inspectorData;}}throw new Error('Expected to find at least one React renderer.');}var Inspector=function(_React$Component){(0,_inherits2.default)(Inspector,_React$Component);function Inspector(_props){var _this;(0,_classCallCheck2.default)(this,Inspector);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Inspector).call(this,_props));_this.attachToDevtools=function(agent){var _hideWait=null;var hlSub=agent.sub('highlight',function(_ref){var node=_ref.node,name=_ref.name,props=_ref.props;clearTimeout(_hideWait);if(typeof node!=='number'){node=ReactNative.findNodeHandle(node);}UIManager.measure(node,function(x,y,width,height,left,top){_this.setState({hierarchy:[],inspected:{frame:{left:left,top:top,width:width,height:height},style:props?props.style:emptyObject}});});});var hideSub=agent.sub('hideHighlight',function(){if(_this.state.inspected===null){return;}_hideWait=setTimeout(function(){_this.setState({inspected:null});},100);});_this._subs=[hlSub,hideSub];agent.on('shutdown',function(){_this.setState({devtoolsAgent:null});_this._subs=null;});_this.setState({devtoolsAgent:agent});};_this.state={devtoolsAgent:null,hierarchy:null,panelPos:'bottom',inspecting:true,perfing:false,inspected:null,selection:null,inspectedViewTag:_this.props.inspectedViewTag,networking:false};return _this;}(0,_createClass2.default)(Inspector,[{key:\"componentDidMount\",value:function componentDidMount(){hook.on('react-devtools',this.attachToDevtools);if(hook.reactDevtoolsAgent){this.attachToDevtools(hook.reactDevtoolsAgent);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this._subs){this._subs.map(function(fn){return fn();});}hook.off('react-devtools',this.attachToDevtools);}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(newProps){this.setState({inspectedViewTag:newProps.inspectedViewTag});}},{key:\"setSelection\",value:function setSelection(i){var _this2=this;var hierarchyItem=this.state.hierarchy[i];var _hierarchyItem$getIns=hierarchyItem.getInspectorData(ReactNative.findNodeHandle),measure=_hierarchyItem$getIns.measure,props=_hierarchyItem$getIns.props,source=_hierarchyItem$getIns.source;measure(function(x,y,width,height,left,top){_this2.setState({inspected:{frame:{left:left,top:top,width:width,height:height},style:props.style,source:source},selection:i});});}},{key:\"onTouchViewTag\",value:function onTouchViewTag(touchedViewTag,frame,pointerY){var _getInspectorDataForV=getInspectorDataForViewTag(touchedViewTag),hierarchy=_getInspectorDataForV.hierarchy,props=_getInspectorDataForV.props,selection=_getInspectorDataForV.selection,source=_getInspectorDataForV.source;if(this.state.devtoolsAgent){var offsetFromLeaf=hierarchy.length-1-selection;this.state.devtoolsAgent.selectFromDOMNode(touchedViewTag,true,offsetFromLeaf);}this.setState({panelPos:pointerY>Dimensions.get('window').height/2?'top':'bottom',selection:selection,hierarchy:hierarchy,inspected:{style:props.style,frame:frame,source:source}});}},{key:\"setPerfing\",value:function setPerfing(val){this.setState({perfing:val,inspecting:false,inspected:null,networking:false});}},{key:\"setInspecting\",value:function setInspecting(val){this.setState({inspecting:val,inspected:null});}},{key:\"setTouchTargeting\",value:function setTouchTargeting(val){var _this3=this;Touchable.TOUCH_TARGET_DEBUG=val;this.props.onRequestRerenderApp(function(inspectedViewTag){_this3.setState({inspectedViewTag:inspectedViewTag});});}},{key:\"setNetworking\",value:function setNetworking(val){this.setState({networking:val,perfing:false,inspecting:false,inspected:null});}},{key:\"render\",value:function render(){var panelContainerStyle=this.state.panelPos==='bottom'?{bottom:0}:{top:Platform.OS==='ios'?20:0};return React.createElement(View,{style:styles.container,pointerEvents:\"box-none\",__source:{fileName:_jsxFileName,lineNumber:249}},this.state.inspecting&&React.createElement(InspectorOverlay,{inspected:this.state.inspected,inspectedViewTag:this.state.inspectedViewTag,onTouchViewTag:this.onTouchViewTag.bind(this),__source:{fileName:_jsxFileName,lineNumber:251}}),React.createElement(View,{style:[styles.panelContainer,panelContainerStyle],__source:{fileName:_jsxFileName,lineNumber:257}},React.createElement(InspectorPanel,{devtoolsIsOpen:!!this.state.devtoolsAgent,inspecting:this.state.inspecting,perfing:this.state.perfing,setPerfing:this.setPerfing.bind(this),setInspecting:this.setInspecting.bind(this),inspected:this.state.inspected,hierarchy:this.state.hierarchy,selection:this.state.selection,setSelection:this.setSelection.bind(this),touchTargeting:Touchable.TOUCH_TARGET_DEBUG,setTouchTargeting:this.setTouchTargeting.bind(this),networking:this.state.networking,setNetworking:this.setNetworking.bind(this),__source:{fileName:_jsxFileName,lineNumber:258}})));}},{key:\"__reactstandin__regenerateByEval\",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code);}}]);return Inspector;}(React.Component);var styles=StyleSheet.create({container:{position:'absolute',backgroundColor:'transparent',top:0,left:0,right:0,bottom:0},panelContainer:{position:'absolute',left:0,right:0}});module.exports=Inspector;;(function(){var reactHotLoader=require('react-hot-loader').default;var leaveModule=require('react-hot-loader').leaveModule;if(!reactHotLoader){return;}reactHotLoader.register(hook,\"hook\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js\");reactHotLoader.register(renderers,\"renderers\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js\");reactHotLoader.register(findRenderers,\"findRenderers\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js\");reactHotLoader.register(getInspectorDataForViewTag,\"getInspectorDataForViewTag\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js\");reactHotLoader.register(Inspector,\"Inspector\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js\");reactHotLoader.register(styles,\"styles\",\"/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js\");leaveModule(module);})();;",{"version":3,"sources":["/Users/jeffrey/HaulTesting/node_modules/react-native/Libraries/Inspector/Inspector.js"],"names":["Dimensions","require","InspectorOverlay","InspectorPanel","Platform","React","ReactNative","StyleSheet","Touchable","UIManager","View","emptyObject","invariant","hook","window","__REACT_DEVTOOLS_GLOBAL_HOOK__","renderers","findRenderers","resolveRNStyle","allRenderers","Object","keys","_renderers","map","key","length","getInspectorDataForViewTag","touchedViewTag","i","renderer","inspectorData","hierarchy","Error","Inspector","props","attachToDevtools","agent","_hideWait","hlSub","sub","node","name","clearTimeout","findNodeHandle","measure","x","y","width","height","left","top","setState","inspected","frame","style","hideSub","state","setTimeout","_subs","on","devtoolsAgent","panelPos","inspecting","perfing","selection","inspectedViewTag","networking","reactDevtoolsAgent","fn","off","newProps","hierarchyItem","getInspectorData","source","pointerY","offsetFromLeaf","selectFromDOMNode","get","val","TOUCH_TARGET_DEBUG","onRequestRerenderApp","panelContainerStyle","bottom","OS","styles","container","onTouchViewTag","bind","panelContainer","setPerfing","setInspecting","setSelection","setTouchTargeting","setNetworking","Component","create","position","backgroundColor","right","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst Dimensions = require('Dimensions');\nconst InspectorOverlay = require('InspectorOverlay');\nconst InspectorPanel = require('InspectorPanel');\nconst Platform = require('Platform');\nconst React = require('React');\nconst ReactNative = require('ReactNative');\nconst StyleSheet = require('StyleSheet');\nconst Touchable = require('Touchable');\nconst UIManager = require('UIManager');\nconst View = require('View');\n\n/* $FlowFixMe(>=0.54.0 site=react_native_oss) This comment suppresses an error\n * found when Flow v0.54 was deployed. To see the error delete this comment and\n * run Flow. */\nconst emptyObject = require('fbjs/lib/emptyObject');\nconst invariant = require('fbjs/lib/invariant');\n\nexport type ReactRenderer = {\n  getInspectorDataForViewTag: (viewTag: number) => Object,\n};\n\nconst hook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\nconst renderers = findRenderers();\n\n// required for devtools to be able to edit react native styles\nhook.resolveRNStyle = require('flattenStyle');\n\nfunction findRenderers(): $ReadOnlyArray<ReactRenderer> {\n  const allRenderers = Object.keys(hook._renderers).map(\n    key => hook._renderers[key],\n  );\n  invariant(\n    allRenderers.length >= 1,\n    'Expected to find at least one React Native renderer on DevTools hook.',\n  );\n  return allRenderers;\n}\n\nfunction getInspectorDataForViewTag(touchedViewTag: number) {\n  for (let i = 0; i < renderers.length; i++) {\n    const renderer = renderers[i];\n    const inspectorData = renderer.getInspectorDataForViewTag(touchedViewTag);\n    if (inspectorData.hierarchy.length > 0) {\n      return inspectorData;\n    }\n  }\n  throw new Error('Expected to find at least one React renderer.');\n}\n\nclass Inspector extends React.Component<\n  {\n    inspectedViewTag: ?number,\n    onRequestRerenderApp: (callback: (tag: ?number) => void) => void,\n  },\n  {\n    devtoolsAgent: ?Object,\n    hierarchy: any,\n    panelPos: string,\n    inspecting: boolean,\n    selection: ?number,\n    perfing: boolean,\n    inspected: any,\n    inspectedViewTag: any,\n    networking: boolean,\n  },\n> {\n  _subs: ?Array<() => void>;\n\n  constructor(props: Object) {\n    super(props);\n\n    this.state = {\n      devtoolsAgent: null,\n      hierarchy: null,\n      panelPos: 'bottom',\n      inspecting: true,\n      perfing: false,\n      inspected: null,\n      selection: null,\n      inspectedViewTag: this.props.inspectedViewTag,\n      networking: false,\n    };\n  }\n\n  componentDidMount() {\n    hook.on('react-devtools', this.attachToDevtools);\n    // if devtools is already started\n    if (hook.reactDevtoolsAgent) {\n      this.attachToDevtools(hook.reactDevtoolsAgent);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._subs) {\n      this._subs.map(fn => fn());\n    }\n    hook.off('react-devtools', this.attachToDevtools);\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps: Object) {\n    this.setState({inspectedViewTag: newProps.inspectedViewTag});\n  }\n\n  attachToDevtools = (agent: Object) => {\n    let _hideWait = null;\n    const hlSub = agent.sub('highlight', ({node, name, props}) => {\n      /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n       * error found when Flow v0.63 was deployed. To see the error delete this\n       * comment and run Flow. */\n      clearTimeout(_hideWait);\n\n      if (typeof node !== 'number') {\n        // Fiber\n        node = ReactNative.findNodeHandle(node);\n      }\n\n      UIManager.measure(node, (x, y, width, height, left, top) => {\n        this.setState({\n          hierarchy: [],\n          inspected: {\n            frame: {left, top, width, height},\n            style: props ? props.style : emptyObject,\n          },\n        });\n      });\n    });\n    const hideSub = agent.sub('hideHighlight', () => {\n      if (this.state.inspected === null) {\n        return;\n      }\n      // we wait to actually hide in order to avoid flicker\n      _hideWait = setTimeout(() => {\n        this.setState({\n          inspected: null,\n        });\n      }, 100);\n    });\n    this._subs = [hlSub, hideSub];\n\n    agent.on('shutdown', () => {\n      this.setState({devtoolsAgent: null});\n      this._subs = null;\n    });\n    this.setState({\n      devtoolsAgent: agent,\n    });\n  };\n\n  setSelection(i: number) {\n    const hierarchyItem = this.state.hierarchy[i];\n    // we pass in ReactNative.findNodeHandle as the method is injected\n    const {measure, props, source} = hierarchyItem.getInspectorData(\n      ReactNative.findNodeHandle,\n    );\n\n    measure((x, y, width, height, left, top) => {\n      this.setState({\n        inspected: {\n          frame: {left, top, width, height},\n          style: props.style,\n          source,\n        },\n        selection: i,\n      });\n    });\n  }\n\n  onTouchViewTag(touchedViewTag: number, frame: Object, pointerY: number) {\n    // Most likely the touched instance is a native wrapper (like RCTView)\n    // which is not very interesting. Most likely user wants a composite\n    // instance that contains it (like View)\n    const {hierarchy, props, selection, source} = getInspectorDataForViewTag(\n      touchedViewTag,\n    );\n\n    if (this.state.devtoolsAgent) {\n      // Skip host leafs\n      const offsetFromLeaf = hierarchy.length - 1 - selection;\n      this.state.devtoolsAgent.selectFromDOMNode(\n        touchedViewTag,\n        true,\n        offsetFromLeaf,\n      );\n    }\n\n    this.setState({\n      panelPos:\n        pointerY > Dimensions.get('window').height / 2 ? 'top' : 'bottom',\n      selection,\n      hierarchy,\n      inspected: {\n        style: props.style,\n        frame,\n        source,\n      },\n    });\n  }\n\n  setPerfing(val: boolean) {\n    this.setState({\n      perfing: val,\n      inspecting: false,\n      inspected: null,\n      networking: false,\n    });\n  }\n\n  setInspecting(val: boolean) {\n    this.setState({\n      inspecting: val,\n      inspected: null,\n    });\n  }\n\n  setTouchTargeting(val: boolean) {\n    Touchable.TOUCH_TARGET_DEBUG = val;\n    this.props.onRequestRerenderApp(inspectedViewTag => {\n      this.setState({inspectedViewTag});\n    });\n  }\n\n  setNetworking(val: boolean) {\n    this.setState({\n      networking: val,\n      perfing: false,\n      inspecting: false,\n      inspected: null,\n    });\n  }\n\n  render() {\n    const panelContainerStyle =\n      this.state.panelPos === 'bottom'\n        ? {bottom: 0}\n        : {top: Platform.OS === 'ios' ? 20 : 0};\n    return (\n      <View style={styles.container} pointerEvents=\"box-none\">\n        {this.state.inspecting && (\n          <InspectorOverlay\n            inspected={this.state.inspected}\n            inspectedViewTag={this.state.inspectedViewTag}\n            onTouchViewTag={this.onTouchViewTag.bind(this)}\n          />\n        )}\n        <View style={[styles.panelContainer, panelContainerStyle]}>\n          <InspectorPanel\n            devtoolsIsOpen={!!this.state.devtoolsAgent}\n            inspecting={this.state.inspecting}\n            perfing={this.state.perfing}\n            setPerfing={this.setPerfing.bind(this)}\n            setInspecting={this.setInspecting.bind(this)}\n            inspected={this.state.inspected}\n            hierarchy={this.state.hierarchy}\n            selection={this.state.selection}\n            setSelection={this.setSelection.bind(this)}\n            touchTargeting={Touchable.TOUCH_TARGET_DEBUG}\n            setTouchTargeting={this.setTouchTargeting.bind(this)}\n            networking={this.state.networking}\n            setNetworking={this.setNetworking.bind(this)}\n          />\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    backgroundColor: 'transparent',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  panelContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n  },\n});\n\nmodule.exports = Inspector;\n"]}]}